ss_loop_dist_fft = ss_loop_dist_shared_averaged[:,8] + ss_loop_dist_shared_averaged[:,10]
ss_loop_dist_trans = ss_loop_dist_shared_averaged[:,9] + ss_loop_dist_shared_averaged[:,11]

ss_loop_dist_bar_positions = ticks_x

ss_loop_dist_bar_fft = plt.bar(ss_loop_dist_bar_positions, ss_loop_dist_fft, bar_width-epsilon,
                            color=colors[2],
                            edgecolor='black',
                            linewidth=line_width,
                            hatch='')
ss_loop_dist_bar_trans = plt.bar(ss_loop_dist_bar_positions, ss_loop_dist_trans , bar_width-epsilon,
                            bottom=ss_loop_dist_fft,
                            color=colors[6],
                            edgecolor='black',
                            linewidth=line_width,
                            hatch='')

ss_loop_dist_bars = [ss_loop_dist_bar_fft, ss_loop_dist_bar_trans]
ss_loop_dist_legend = plt.legend(ss_loop_dist_bars, ['FFT', 'Transpose'], title='For_loop_dist shared', bbox_to_anchor=(0.75, 1.0), loc="upper right")
plt.gca().add_artist(ss_loop_dist_legend)